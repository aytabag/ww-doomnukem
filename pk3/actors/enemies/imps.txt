
// Impbomination by Gez, Dreadopp, and Damien Daurio

Actor DNImpVariant1 : DoomImp
{
	SeeSound "gauntimp/sight"
	PainSound "gauntimp/pain"
	DeathSound "gauntimp/death"
	Obituary "%o got imped."
	Health 70
	States
	{
	Spawn:
	  TRO5 AB 10 A_Look
	  Loop
	See:
	  TRO5 AABBCCDD 3 A_Chase
	  Loop
  	Melee:
		TRO5 E 0 A_PlaySound("gauntimp/meleeswing")
  	Missile:
	  TRO5 EF 8 A_FaceTarget
	  TRO5 G 6 A_CustomComboAttack("NewImpBall",32,4,"gauntimp/meleehit")
	  Goto See
  	Pain:
	  TRO5 H 2
	  TRO5 H 2 A_Pain
	  Goto See
  	Death:
	  TRO5 I 8
	  TRO5 J 8 A_Scream
	  TRO5 K 6
	  TRO5 L 6 A_NoBlocking
	  TROO M -1
	  Stop
  	XDeath:
	  TROO N 5
	  TROO O 5 A_XScream
	  TROO P 5
	  TROO Q 5 A_NoBlocking
	  TROO RST 5
	  TROO U -1
	  Stop
  	Raise:
	  TROO M 8
	  TRO5 L 8
	  TRO5 KJI 6
	  Goto See
	}
}

// Stimp by ItsNatureToDie and Vader.

Actor DNImpVariant2 : DoomImp
{
    Health 55
    Radius 20
    Height 56
    Speed 11
    PainChance 200
    MONSTER
    +FLOORCLIP
    SeeSound "gauntimp/sight"
	PainSound "gauntimp/pain"
	DeathSound "gauntimp/death"
    ActiveSound "imp/active"
    Obituary "%o got imped."
    States
    {
    Spawn:
	  TRO3 AB 10 A_Look
	  Loop
    See:
	  TRO3 AABBCCDD 3 A_Chase
	  Loop
    Melee:
	TRO5 E 0 A_PlaySound("gauntimp/meleeswing")
    Missile:
	  TRO3 EF 8 A_FaceTarget
	  TRO3 G 6 A_CustomComboAttack("SmallImpBall",32,2,"gauntimp/meleehit")
	  Goto See
    Pain:
	  TRO3 H 2
	  TRO3 H 2 A_Pain
	  Goto See
    Death:
	  TRO3 I 8
	  TRO3 J 8 A_Scream
	  TRO3 K 6
	  TRO3 L 6 A_Fall
	  TRO3 M -1
	  Stop
    XDeath:
	  TROO N 5
	  TROO O 5 A_XScream
	  TROO P 5
	  TROO Q 5 A_Fall
	  TROO RST 5
	  TROO U -1
	  Stop
    Raise:
	  TRO3 ML 8
	  TRO3 KJI 6
	  Goto See
    }
}

Actor DNImpVariant3 : DoomImp
{
    Health 65
    Radius 20
    Height 56
    Speed 7
    PainChance 200
    MONSTER
    +FLOORCLIP
    SeeSound "gauntimp/sight"
	PainSound "gauntimp/pain"
	DeathSound "gauntimp/death"
    ActiveSound "imp/active"
    Obituary "%o got imped."
    States
    {
    Spawn:
      TRO4 AB 10 A_Look
      Loop
    See:
      TRO4 AABBCCDD 3 A_Chase
      Loop
    Melee:
	TRO5 E 0 A_PlaySound("gauntimp/meleeswing")
    Missile:
	  TRO4 EF 8 A_FaceTarget
      TNT1 A 0 A_Jump(128,2)
      TRO4 G 6 A_TroopAttack
      Goto See
      TRO4 G 6 A_CustomComboAttack("LargeImpBall",32,3,"gauntimp/meleehit")
      Goto See
    Pain:
      TRO4 H 2
      TRO4 H 2 A_Pain
      Goto See
    Death:
      TRO4 I 8
      TRO4 J 8 A_Scream
      TRO4 K 6
      TRO4 L 6 A_NoBlocking
      TRO4 M -1
      Stop
    XDeath:
      TROO N 5
      TROO O 5 A_XScream
      TROO P 5
      TROO Q 5 A_NoBlocking
      TROO RST 5
      TROO U -1
      Stop
    Raise:
      TRO4 ML 8
      TRO4 KJI 6
      Goto See
    }
}

ACTOR NewImpBall replaces DoomImpBall
{
	DamageType Fire
	RenderStyle Add
	Alpha 0.9
	Damage 3
	Scale 0.75
	SeeSound "psiamp/fireball"
	DeathSound "psiamp/firehit"
	Radius 5
	Height 6
	Speed 15
	Decal DoomImpScorch
	PROJECTILE
	-STRIFEDAMAGE
	-NOTELEPORT
	States
	{
	Spawn:
		BRB2 AAABBB 1 BRIGHT A_CustomMissile("FireSmokeTrail",0,0,0)
		Goto Spawn+1
	Death:
		BFS1 A 0 A_Scream
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BFS1 A 0 A_CustomMissile("FireBallFrags", 24 , 0, random(0, 360), 2, random(5, 45))
  		BRB2 CDEFGHIJKLMNOP 1 BRIGHT
  		Stop
	}
}

ACTOR FireBallFrags
{
	Health 4
	radius 3
	height 6
	speed 5
	Scale 0.5
	Mass 0
	Damage 0
	Scale 0.2
	ReactionTime 1
	DamageType Fire
	PROJECTILE
	+STRIFEDAMAGE
	+doombounce
	+DONTSPLASH
	-NOGRAVITY
	RenderStyle Add
	States
	{
    Spawn:
      	FLM1 A 0 A_Jump(128,"Spawn2")
		FLM1 A 0 A_Jump(128,"Spawn3")
		FLM1 A 0 A_Jump(128,"Spawn4")
		FLM1 A 0 A_Jump(128,"Spawn5")
		FLM1 A 0 A_Jump(128,"Spawn6")
		FLM1 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn2:
		FLM2 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn3:
		FLM3 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn4:
		FLM4 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn5:
		FLM5 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn6:
		FLM6 ABCDEFGHIJKL 1 BRIGHT
		Stop
	}
}

ACTOR FireSmokeTrail : PlasmaBall
{
    Scale 0.15
	RenderStyle Add
    Alpha 0.8
    Damage 0
    Speed 0
    + NOCLIP
    SeeSound ""
    DeathSound ""
    States
    {
    Spawn:
      	FLM1 A 0 A_Jump(128,"Spawn2")
		FLM1 A 0 A_Jump(128,"Spawn3")
		FLM1 A 0 A_Jump(128,"Spawn4")
		FLM1 A 0 A_Jump(128,"Spawn5")
		FLM1 A 0 A_Jump(128,"Spawn6")
		FLM1 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn2:
		FLM2 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn3:
		FLM3 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn4:
		FLM4 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn5:
		FLM5 ABCDEFGHIJKL 1 BRIGHT
		Stop
	Spawn6:
		FLM6 ABCDEFGHIJKL 1 BRIGHT
		Stop
	}
}

Actor SmallImpBall : NewImpBall
{
    Radius 8
    Height 6
    Speed 18
	FastSpeed 20
    Damage 2
    Scale .75
}

Actor LargeImpBall : NewImpBall
{
    Radius 6
    Scale 1.75
    Height 8
    Speed 10
    FastSpeed 20
    Damage 4
    Alpha 1
}

ACTOR ImpBallEffect
{
	RenderStyle Add
	Scale 0.5
	+NOGRAVITY
	+NOINTERACTION
	States
	{
	Spawn:
		BAL1 CDE 2
		Stop
	}
}