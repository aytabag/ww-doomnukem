//Original Decorate: Carnevil
//GLDefs: Sandypaper (Brightmaps)
//Sounds: Id Software
//Sprites: Id Software
//Sprite Edit: Neoworm, Vader
//Idea Base: Skulltag's Blood Demon by Cyb

ACTOR MechDemon replaces Spectre
{ 
	//$Category Monsters
    Health 300 
    Speed 12 
    Height 56
    Radius 30
    Mass 400
    PainChance 180
    Meleedamage 5 
    REACTIONTIME 8 
    MONSTER
    +FLOORCLIP
	+STEALTH
    SeeSound "blooddemon/sight"
    PainSound "blooddemon/pain"
    DeathSound "blooddemon/death"
    ActiveSound "blooddemon/active"
    //MeleeSound "blooddemon/melee"
    HitObituary "%o was chewed up and spat out by a Mech-demon." 
    States 
    { 
    Spawn: 
       SRG2 AB 10 A_Look
       Loop 
    See: 
		SRG2 A 0 A_SpawnItemEx("BloodDemonStepPuff")
       SRG2 A 0 A_PlaySound("blooddemon/walk")
       SRG2 AABB 2 A_Chase
	   SRG2 A 0 A_SpawnItemEx("BloodDemonStepPuff")
       SRG2 C 0 A_PlaySound("blooddemon/walk")
       SRG2 CCDD 2 A_Chase
       Loop 
    Melee: 
	   SRG2 E 0 A_PlaySound("blooddemon/melee")
       SRG2 EF 8 A_FaceTarget
       SRG2 G 8 A_MeleeAttack
       Goto See 
    Pain: 
       SRG2 H 2
       SRG2 H 2 A_Pain
       Goto See
    Death: 
       SRG2 I 8 
       SRG2 I 0 A_FaceTarget
       SRG2 J 0 A_SpawnItemEx("BloodDemonArm", 10, 0, 32, 0, 8, 0, 0, 128)
       SRG2 J 8 A_Scream
       SRG2 K 4 
       SRG2 L 4 A_NoBlocking
       SRG2 M 4 
       SRG2 N -1 
       Stop 
    Raise: 
       SRG2 NMLKJI 5 
       Goto See 
    } 
}

ACTOR BloodDemonArm
{
	Radius 8
	Height 8
	Speed 8
	+DOOMBOUNCE
	+DROPOFF
	+Missile
      States
	{
	Spawn:
         SG2A ABCDEFGH 2 A_SpawnItemEx("Blood", 0,0,0, 0,0,random(1,3), random(0,359), SXF_USEBLOODCOLOR, SXF_NOCHECKPOSITION, SXF_CLIENTSIDE)
         Loop
	Death:
	 SG2A I -1
	 Loop
	}
}

ACTOR BloodDemonStepPuff
{
	+NOBLOCKMAP
	+NOGRAVITY
	+PUFFONACTORS
	+FORCEPAIN
	RenderStyle Add
	states
	{
	Spawn:
		POOF AAAAA 0 A_SpawnItemEx("GunSmoke", 0,0,0, random(-1,1),random(-1,1),random(-1,1), 0, SXF_NOCHECKPOSITION)
		Stop
	}
}